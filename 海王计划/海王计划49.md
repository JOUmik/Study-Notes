# 海王计划49

[TOC]



## [286. 墙与门](https://leetcode.cn/problems/walls-and-gates/)

~~~c++
class Solution {
public:
    vector<vector<int>> MoveDirection{{0, 1}, {1, 0}, {0, -1}, {-1, 0}};
    int n, m;

    void wallsAndGates(vector<vector<int>>& rooms) {
        n = rooms.size();
        m = rooms[0].size();
        for(int i = 0; i < n; i++){
            for(int j = 0; j < m; j++){
                if(rooms[i][j] == 0)   BFS(rooms, i, j);
            }
        }
    }

    void BFS(vector<vector<int>>& rooms, int _i, int _j){
        queue<pair<int, int>> q;
        //set<pair<int, int>> uset;
        q.push(make_pair(_i, _j));
        //uset.emplace(make_pair(_i, _j));
        
        while(!q.empty()){
            auto cur = q.front();
            q.pop();
            
            int step = rooms[cur.first][cur.second];
            step++;
            for(int i = 0; i<MoveDirection.size(); i++){
                int x = MoveDirection[i][0] + cur.first;
                int y = MoveDirection[i][1] + cur.second;
                if(x>=0 && x<n && y>=0 && y<m && rooms[x][y] != -1 && rooms[x][y] != 0){
                    if(rooms[x][y] > step){
                        rooms[x][y] = step;
                        q.push(make_pair(x, y));
                    }
                }
            }
        }
    }
};
~~~


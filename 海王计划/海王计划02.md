# 海王计划02

拓扑排序介绍：

[算法学习笔记(53): 拓扑排序 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/260112913)

[拓扑排序及算法实现_拓扑排序算法_ShyTan的博客-CSDN博客](https://blog.csdn.net/ShyTan/article/details/115962715)



## 207. 课程表

**关键词**：图， 拓扑排序

~~~c++
class Solution {
private:
    vector<vector<int>> edges;   //<u, v> 存储v对应的所有u
    vector<int> in_degree;       //入度

public:
    bool canFinish(int numCourses, vector<vector<int>>& prerequisites) {
        edges.resize(numCourses);
        in_degree.resize(numCourses);

        for(int i = 0; i < prerequisites.size(); i++){
            edges[prerequisites[i][1]].push_back(prerequisites[i][0]);
            in_degree[prerequisites[i][0]]++;
        }

        queue<int> q;

        for(int i = 0; i < numCourses; i++){
             if(in_degree[i] == 0){
                 q.push(i);
             }
        }

        int visited = 0;  //判断出队的数量
        while(!q.empty()){
            visited++;
            int u = q.front();
            q.pop();

            for(int i = 0; i < edges[u].size(); i++){
                in_degree[edges[u][i]]--;
                if(in_degree[edges[u][i]] == 0){
                    q.push(edges[u][i]);
                }
            }

        }

        return visited == numCourses;
    }
};
~~~



## 210. 课程表II

与207基本一致

~~~c++
class Solution {
public:
    vector<int> findOrder(int numCourses, vector<vector<int>>& prerequisites) {
        vector<vector<int>> edges;
        vector<int> in_degree;

        edges.resize(numCourses);
        in_degree.resize(numCourses);

        for(auto& i : prerequisites){
            edges[i[1]].push_back(i[0]);
            in_degree[i[0]]++;
        }

        queue<int> q;
        vector<int> res;   //队列出队的顺序正好是答案

        for(int i = 0; i < numCourses; i++){
            if(in_degree[i] == 0){
                q.push(i);
            }
        }

        while(!q.empty()){
            int u = q.front();
            res.push_back(u);
            q.pop();

            for(int i : edges[u]){
                in_degree[i] --;
                if(in_degree[i] == 0){
                    q.push(i);
                }
            }
        }

        if(res.size() == numCourses){
            return res;
        }
        else{
            res.clear();
            return res;
        }
    }
};
~~~


# Shading(着色)

[TOC]



## 1. Introduction

当光栅化把三角形画在屏幕对应像素后，考虑到光影，反光之类的影响，这些像素的颜色都应该是什么，这就是着色负责完成的

![image-20240212171126281](Images\image-20240212171126281.png)

## 2. Blinn-Phong Reflectance Model(着色模型：冯氏反射模型)

 冯氏反射模型有三个重要参数：

- **高光（Specular highlights）**；
- **漫反射（Diffuse reflection）**；
- **环境光照（Ambient lighting）；**

![image-20240212204207163](Images\image-20240212204207163.png)

![image-20240212203848570](Images\image-20240212203848570.png)

着色只考虑局部阴影，不考虑是否光线和某点之间有物体遮挡（**着色 != 阴影**），如下图所示，地面上没有生成物体的阴影

![image-20240212204600442](Images\image-20240212204600442.png)

### 2.1 Diffuse Reflection(漫反射)

光线I和法线n之间的夹角决定了接收到的光照，即决定了着色点的单位面积有多亮

![image-20240212204834668](Images\image-20240212204834668.png)

![image-20240212210028720](Images\image-20240212210028720.png)



![image-20240212210158778](Images\image-20240212210158778.png)

**$ k_d$** 代表吸收率或漫反射系数，如果吸收率为 1 表示不吸收能量全部释放出去，为 0 表示全部吸收，此时为黑色

**Tip**: 漫反射和观察方向没有任何关系

![image-20240212211431465](Images\image-20240212211431465.png)